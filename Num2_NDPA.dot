digraph NPDA_Task2 {
  rankdir=LR;
  fontsize=12;
  labelloc="t";
  label="НПДА для L = { w1 a^n w2 | |w1|_a = |w2|_b и w1 не содержит подслова aa }";

  node [shape=circle, fontsize=12];
  start [shape=point];

  q0   [label="q0\n(w1, last≠a)"];
  q1   [label="q1\n(w1, last=a)"];
  qM   [label="qM\n(a^n)"];
  q2   [label="q2\n(w2)"];
  qAcc [shape=doublecircle, label="qACC"];


  start -> q0;


  q0 -> q0 [label="b, ⊥→⊥"];
  q0 -> q0 [label="b, A→A"];


  q0 -> q1 [label="a, ⊥→A⊥"];
  q0 -> q1 [label="a, A→AA"];


  q1 -> q0 [label="b, ⊥→⊥"];
  q1 -> q0 [label="b, A→A"];


  q0 -> qM [label="ε, ⊥→⊥"];
  q0 -> qM [label="ε, A→A"];
  q1 -> qM [label="ε, ⊥→⊥"];
  q1 -> qM [label="ε, A→A"];


  qM -> qM [label="a, ⊥→⊥"];
  qM -> qM [label="a, A→A"];


  qM -> q2 [label="ε, ⊥→⊥"];
  qM -> q2 [label="ε, A→A"];


  qM -> q2 [label="b, ⊥→⊥"];
  qM -> q2 [label="b, A→A"];


  q2 -> q2 [label="a, ⊥→⊥"];
  q2 -> q2 [label="a, A→A"];


  q2 -> q2 [label="b, A→ε"];


  q2 -> qAcc [label="ε, ⊥→⊥"];
}
